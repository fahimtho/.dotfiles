[color]
background = #DE000000
foreground = #8bb9f6
blue = #004eff

[module/date]
type = internal/date
interval = 1000.0
tail = true
time = %{o#DE000000}%{u#DE000000}%{B#004eff}%{F#000000}%{+u}%{+o} DATE %{B- F- -u -o}%{A1:bspc desktop -f 'next.!occupied' && ~/.config/polybar/scripts/calendar:} %d %b, %A %{A}
format = <label>
format-padding = 0
label = %time%

[module/time]
type = internal/date
interval = 20.0
tail = true
time = %{o#DE000000}%{u#DE000000}%{B#004eff}%{F#000000}%{+u}%{+o} TIME %{B- F- -u -o}%{A1:bspc desktop -f 'next.!occupied' && ~/.config/polybar/scripts/calendar:} %I:%M %p %{A}
format = <label>
format-padding = 0
label = %time%

[module/network]
type = internal/network
interface = wlp2s0
interval = 2
accumulate-stats = true
unknown-as-up = true

format-connected = <label-connected>
format-connected-padding = 1

format-disconnected = <label-disconnected>
format-disconnected-padding = 2
format-disconnected-foreground = ${color.blue}

label-connected = %{A3:rofi-bluetooth:}%{A1:nmcli_rofi&:}%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} WIFI %{B- F- -u -o} %essid%%{A}%{A}
label-disconnected = %{A1:nmcli_rofi&:}%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} WIFI %{B- F- -u -o} off%{A}

[module/battery]
type = internal/battery
tail = true

full-at = 105
low-at = 30
battery = BAT0
adapter = ACAD
poll-interval = 1

format-charging = <label-charging>
format-charging-padding = 0

format-discharging =  <label-discharging>
format-discharging-padding = 0

format-full = <label-full>
format-full-prefix-padding = 0
format-full-padding = 0
format-full-prefix-foreground = ${color.blue}

format-low = <label-low>
format-low-padding = 1

label-charging = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} CHARGING %{B- F- -u -o} %percentage%%"
label-discharging = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} BAT %{B- F- -u -o} %percentage%%"
label-low = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} LOW %{B- F- -u -o} %percentage%%"
label-full = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} BAT %{B- F- -u -o} %percentage%%"

[module/backlight]
type = internal/xbacklight

card = intel_backlight
use-actual-brightness = true
enable-scroll = true

format = <label>
format-padding = 0
label = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} B %{B- F- -u -o} %percentage%% "

[module/bluetooth]
type = custom/script
tail = true
format = <label>
format-padding = 0
exec = ~/.config/polybar/scripts/bluetooth
interval = 2
click-left = rofi-bluetooth &
click-right = notify-send "System Status" "Sensei, Current $(bash ~/.config/polybar/scripts/bluetoothmenu_device_battery)" -i ~/Pictures/.icons/ai.png

[module/up]
type = custom/script
tail = true
format = <label>
format-padding = 0
exec = ~/.config/polybar/scripts/num_of_packages
interval = 10000
click-left = bspc desktop -f 'Apps' && kitty --hold -e yay -Syu

[module/sound]
type = custom/script
tail = true
format = <label>
format-padding = 0
exec = pulseaudio-control --sink-nicknames-from "device.description" --sink-nickname "alsa_output.pci-0000_00_1f.3.analog-stereo:SPEAKER" --sink-nickname "bluez_output.FC_58_FA_DF_F7_C8.a2dp-sink:HEADPHONE" --sink-nickname "bluez_output.41_42_9C_45_44_F3.a2dp-sink:BUDS" --volume-step 5 listen
click-left = pulseaudio-control togmute
click-right = pulseaudio-control --sink-blacklist "alsa_output.pci-0000_01_00.1.hdmi-stereo-extra2" next-sink
click-middle = pavucontrol &
scroll-up = pulseaudio-control  --volume-step 5 --volume-max 200 up
scroll-down = pulseaudio-control --volume-step 5 --volume-max 200 down
interval = 0

[module/dummy]
type = custom/text
content = " "

[module/workspaces]
type = internal/xworkspaces
pin-workspaces = true
enable-click = true
enable-scroll = true

format = <label-state>
label-monitor = %name%
label-active = "%{o#07070e}%{u#07070e}%{B#004eff}%{F#000000}%{+u}%{+o} %name% %{B- F- -u -o} "
label-occupied = "%{o#07070e}%{u#07070e}%{B#002866}%{F#000000}%{+u}%{+o} %name% %{B- F- -u -o} "
label-empty = ""

[module/state]
type = internal/bspwm

inline-mode = true
format = <label-state> <label-mode>

label-monitor = %name%
label-focused = ""
label-occupied = ""
label-urgent = ""
label-empty = ""

label-monocle = %{o#DE000000}%{u#DE000000}%{B#004eff}%{F#000000}%{+u}%{+o} STATE %{B- F- -u -o} Monocle
label-tiled = %{o#DE000000}%{u#DE000000}%{B#004eff}%{F#000000}%{+u}%{+o} STATE %{B- F- -u -o} Tiled
label-fullscreen = ""
label-floating = " and Float"
label-pseudotiled = " and Stiled"

[module/weather]
type = custom/script
interval = 500
label = %output%
label-fail = %output%
format = <label>
format-fail = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} WEATHER %{B- F- -u -o} Not Found"
format-padding = 0
exec = ~/.config/polybar/scripts/weather
tail = true

[module/memory]
type = internal/memory
interval = 3
warn-percentage = 95
format = <label>
label = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} MEM %{B- F- -u -o} %percentage_used%% "
label-warn = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} MEM %{B- F- -u -o} %percentage_used%%! "

[module/cpu]
type = internal/cpu
interval = 0.5
warn-percentage = 95
format = <label>
label = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} CPU %{B- F- -u -o} %percentage%% "
label-warn = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} CPU %{B- F- -u -o} %percentage%%! "

[module/filesystem]
type = internal/fs
mount-0 = /home
interval = 10
warn-percentage = 75
fixed-values = true
spacing = 4

format-mounted = <label-mounted>
format-unmounted = <label-unmounted>

label-mounted = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} HDD %{B- F- -u -o} %percentage_used%% "
label-unmounted = %mountpoint%: not mounted
label-unmounted-foreground = #55
label-warn = %mountpoint%: WARNING

[module/temp]
type = internal/temperature
interval = 0.5
thermal-zone = 0

base-temperature = 20
warn-temperature = 80

units = true

format = <label>
format-warn = <label-warn>

label = "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} TMP %{B- F- -u -o} %temperature-c% "
label-warn = %temperature-c%!

[module/speed]
type = custom/script
exec = ~/.config/polybar/scripts/speed
tail = true
click-left = bspc desktop -f 'Apps' && kitty --class=typing -e ttyper -w 100

[module/uptime]
type = custom/script
exec = echo "%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} UPTIME %{B- F- -u -o} $(bash ~/.scripts/uptime-short) "
interval = 1000
format-padding = 0
tail = true
click-left = ~/.scripts/powermenu

[module/dunst]
type = custom/ipc
initial = 1
hook-0 = echo "%{A1:dunstctl set-paused true && polybar-msg hook dunst 2:}%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} N %{B- F- -u -o} on %{A}" &
hook-1 = echo "%{A1:dunstctl set-paused false && polybar-msg hook dunst 1:}%{o#000000}%{u#000000}%{B#004eff}%{F#000000}%{+u}%{+o} N %{B- F- -u -o} off %{A}" &
click-right = dunstctl history-pop

[module/mpd]
type = internal/mpd
interval = 2

format-online = <label-song>
format-playing = ${self.format-online}
format-paused = %{A1::}%{o#DE000000}%{u#DE000000}%{B#004eff}%{F#000000}%{+u}%{+o} MUSIC %{B- F- -u -o} Paused
format-stopped = %{o#DE000000}%{u#DE000000}%{B#004eff}%{F#000000}%{+u}%{+o} MUSIC %{B- F- -u -o} Not Playing

label-song = %{o#DE000000}%{u#DE000000}%{B#004eff}%{F#000000}%{+u}%{+o} SONG %{B- F- -u -o} %title%
label-offline = %{o#DE000000}%{u#DE000000}%{B#004eff}%{F#000000}%{+u}%{+o} MUSIC %{B- F- -u -o} Offline

[module/air]
type = custom/script
exec = ~/.config/polybar/scripts/air
interval = 600

[module/eye]
type = custom/script
exec = ~/.config/polybar/scripts/eyestrain
interval = 60
